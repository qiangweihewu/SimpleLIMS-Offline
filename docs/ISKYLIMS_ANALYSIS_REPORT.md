# 外部项目分析报告：iSkyLIMS (基因组学与高通量测序 LIMS)

## 1. 项目概览
`to_learn_from/iskylims` 是一个专为**基因组学设施 (Genomics Facilities)** 设计的 LIMS 系统，特别针对高通量测序 (Massive Sequencing) 流程。它不仅管理实验室内的湿实验（Wet Lab），还通过服务请求系统连接了干实验（Dry Lab）分析。

### 核心架构
*   **后端技术**：Python 3.8+ / Django 4.2
*   **前端技术**：Bootstrap v5.0
*   **数据库**：MySQL / MariaDB
*   **业务重心**：测序全程追踪、文库构建、Fastq 生成、质量控制、生物信息学分析服务请求。

---

## 2. 核心模块分析

### A. 湿实验工作流 (Wet Lab Workflow)
该系统针对 Illumina 等测序仪器设计了严谨的状态机逻辑，追踪测序运行的五个阶段：
1.  **Recorded (记录)**：用户录入新的测序运行。
2.  **Sample Sheet Sent (样本表已发送)**：样本信息文件复制到运行目录，触发后续自动化处理。
3.  **Processing Data (处理数据)**：处理运行参数文件并存储到数据库。
4.  **Running Stats (运行统计)**：收集并存储下机后的统计数据。
5.  **Completed (完成)**：流程结束，数据完整可用。

### B. 干实验与分析服务 (Dry Lab Workflow)
衔接了测序后的数据分析环节：
*   **Service Request (服务请求)**：研究人员可以提交生物信息学分析请求。
*   **Pipelines (分析流程管理)**：定义和追踪特定的生信分析流程及其参数。
*   **States (状态追踪)**：从申请、审批、入队、进行中到结果交付的全程监控。

### C. 自动化与系统集成 (Automation)
*   **SAMBA 集成**：支持通过网络共享文件夹 (Samba) 监控仪器输出的原始数据运行文件夹。
*   **HPC 协作**：虽然本身是 Web 应用，但其设计能够与 Sun Grid Engine 等高性能计算群集协作完成大规模计算。
*   **GALAXY 接口**：可与 Galaxy 生信分析平台对接。

---

## 3. 对 SimpleLIMS-Offline 的借鉴价值

### 1. 复杂状态机的处理逻辑 (Phase 6 & 10 重点)
*   **借鉴**：如果我们的系统将来需要处理“不仅是一个结果，而是一个过程”的项目（如病态生理学动态监测、长期药物试验），可以借鉴其 `RunProcess` 模型中的多阶段状态转换。
*   **实施建议**：在 `electron/services` 中引入一种基于状态转移表的流程控制器，确保任务必须按 `A -> B -> C` 顺序执行，且每个阶段都有异常采集 (RunErrors)。

### 2. 长耗时任务的进度追踪
*   **借鉴**：测序往往需要数天。iSkyLIMS 通过定时任务 (Cron) 和状态监控来处理这种长周期任务。
*   **实施建议**：我们的“虚拟仪器模拟”和“长时间批量导入”可以增加类似的“后台运行状态”展示，避免用户认为程序卡死。

### 3. 多科室协作模型 (Wet/Dry Lab Connection)
*   **借鉴**：实验室不仅仅产出结果，还要提供“服务”。
*   **实施建议**：在 Phase 9（用户管理）中，可以预留“客户请求”功能。不仅管理员录入样本，外部用户也可以（在线或离线分发）提交“检验申请单”，类似于其 `ServiceRequest` 逻辑。

---

## 4. 结论与下一步行动

`iSkyLIMS` 是垂直化 LIMS 的典型：它不追求通用性，而是在**测序流程**上做到了极致的精细。

**建议：**
*   **参考其精细化模型**：如果您打算把 `SimpleLIMS` 推向特定细分领域（如 PCR 实验室或基因检测机构），`iskylims` 的 `wetlab` 模型是最好的数据结构参考。
*   **复用配置文件逻辑**：其 `conf/` 目录下的多级配置管理（开发、生产、安装模板）非常工程化，值得我们的 Electron 预配置脚本学习。

---
*文档生成日期：2026-02-02*
*分析员：Antigravity*
